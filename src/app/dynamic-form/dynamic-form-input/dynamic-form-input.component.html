<section class="form-section" [formGroup]="form">
  <label [attr.for]="field.key">{{ field.label }}</label>

  <section [ngSwitch]="field.controlType">
    <input
      *ngSwitchCase="'textbox'"
      [formControlName]="field.key"
      [id]="field.key"
      [type]="field.type"
      class="input"
    />

    <select
      *ngSwitchCase="'dropdown'"
      [id]="field.key"
      [formControlName]="field.key"
    >
      <option *ngFor="let opt of field.options" [value]="opt.key">
        {{ opt.value }}
      </option>
    </select>

    <input
    class="checkbox"
      *ngSwitchCase="'checkbox'"
      type="checkbox"
      [id]="field.key"
      [name]="field.key"
      [formControlName]="field.key"
    />

    <input
      *ngSwitchCase="'number'"
      type="number"
      [id]="field.key"
      [name]="field.key"
      [formControlName]="field.key"
      class="input"

    />

    <textarea *ngSwitchCase="'textarea'" [id]="field.key"
      class="input"
      [name]="field.key" ></textarea>

  </section>

  <section class="errorMessage" *ngIf="hasFieldError()">
    {{ field.label }} is required
  </section>
</section>
